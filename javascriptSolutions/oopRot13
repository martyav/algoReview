// OOP rot13, sure to please inattentive senior engineers with the great many lines of code, so they don't even have to bother to read it

const LetterManager = {
  alphabetFront: "ABCDEFGHIJKLMabcdefghijklm",
  alphabetBack: "NOPQRSTUVWXYZnopqrstuvwxyz",
  tester: /[^\W^\d]/,
  
  isLetter: function(char) {
    return this.tester.test(char); 
  },
  
  isLocatedInFirstHalf: function(letter) {
    return this.alphabetFront.includes(letter);
  },

  isLocatedInSecondHalf: function(letter) {
    return this.alphabetBack.includes(letter);
  },
  
  swapCharIfLetter: function(letter) {
    let index;

    if (!this.isLetter(letter)) {
      return letter;
    }

    if (this.isLocatedInFirstHalf(letter)) {
      index = this.alphabetFront.indexOf(letter);
      return this.alphabetBack[index];
    } else if (this.isLocatedInSecondHalf(letter)) {
      index = this.alphabetBack.indexOf(letter);
      return this.alphabetFront[index];
    }
  }
};

function rot13(str) {
  return str.split("").map(char => LetterManager.swapCharIfLetter(char)).join("");
}

